const topic="myTopic";document.getElementById("chatbox").innerText=topic;const chat=document.getElementById("chatMessages"),socket=new WebSocket("ws://localhost:8091/myChatApp?"+topic);socket.onmessage=function(e){chat.innerHTML+=e.data+"<br />"};const input=document.getElementById("msg");function send(e){return socket.readyState==WebSocket.OPEN?socket.send(e):alert("The socket is not open."),!1}input.addEventListener("keyup",(e=>{13===e.keyCode&&(e.preventDefault(),send(input.value),input.value="")}));